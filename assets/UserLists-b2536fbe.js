import{_ as j,r as h,o as m,c as b,a as e,F as $,b as E,d as x,t as u,w as i,v as r,e as f,f as _,p as N,g as T,h as S}from"./index-78d4296a.js";const l=v=>(N("data-v-8cb776ee"),v=v(),T(),v),I={class:"min-w-[80%]"},D=l(()=>e("h1",{class:"bg-orange-100 font-bold font-lg text-center",style:{width:"200px",margin:"10px","margin-left":"30px",padding:"10px"}}," 使用者清單 ",-1)),L={class:"flex flex-wrap flex-row",style:{"margin-left":"20px",padding:"20px"}},O={class:"absolute top-0 right-0 rounded bg-sky-200 w-5 h-5"},z=l(()=>e("span",null,"姓名",-1)),M={class:"bg-white"},B=l(()=>e("span",null,"使用者名稱",-1)),F={class:"bg-white"},J=l(()=>e("span",null,"Email",-1)),A={class:"bg-white"},q=l(()=>e("span",null,"地址",-1)),G={class:"bg-white"},H=l(()=>e("span",null,"電話",-1)),K={class:"bg-white"},Q=l(()=>e("span",null,"公司名稱",-1)),R={class:"bg-white"},W=l(()=>e("span",null,"公司標語",-1)),X={class:"bg-white"},Y=["onClick"],Z=l(()=>e("img",{src:S,class:"w-5 h-5"},null,-1)),ee=[Z],te=["onClick"],se={key:0,class:"modal fixed bg-neutral-200/80 drop-shadow-md border-solid top-2 left-60",style:{width:"70%","min-height":"530px","z-index":"10",padding:"10px 30px"}},le={class:"font-bold rounded absolute top-2 right-20"},oe={class:""},ae=l(()=>e("label",{for:"name",class:"block"},"姓名",-1)),ne=l(()=>e("label",{for:"username",class:"block"},"使用者名稱",-1)),de=l(()=>e("label",{for:"email",class:"block"},"Email",-1)),ie=l(()=>e("span",{class:"block",style:{"margin-top":"15px"}},"地址",-1)),re={class:"flex flex-col md:flex-row"},ue={style:{"margin-right":"10px"}},pe=l(()=>e("label",{for:"street",class:"block"},"街道",-1)),ce={style:{"margin-right":"10px"}},he=l(()=>e("label",{for:"suite",class:"block"},"室",-1)),me=l(()=>e("label",{for:"city",class:"block"},"城市",-1)),be=l(()=>e("label",{class:"block",for:"phone"},"電話",-1)),ve=l(()=>e("label",{for:"companyName",class:"block"},"公司名稱",-1)),ye=l(()=>e("label",{for:"catchPhrase",class:"block"},"公司標語",-1)),ge={key:1,class:"newUsermodal absolute bg-neutral-200/80 drop-shadow-md border-solid top-5 left-60",style:{width:"70%","min-height":"500px","z-index":"10",padding:"25px 30px"}},_e=l(()=>e("label",{class:"block"},"姓名",-1)),xe=l(()=>e("label",{class:"block"},"使用者名稱",-1)),fe=l(()=>e("label",{class:"block"},"Email",-1)),we=l(()=>e("span",{class:"block",style:{"margin-top":"15px"}},"地址",-1)),ke={class:"flex flex-col md:flex-row"},Ue={style:{"margin-right":"10px"}},Ve=l(()=>e("label",{class:"block"},"街道",-1)),Ce={style:{"margin-right":"10px"}},Pe=l(()=>e("label",{class:"block"},"室",-1)),je=l(()=>e("label",{class:"block"},"城市",-1)),$e=l(()=>e("label",{class:"block"},"電話",-1)),Ee=l(()=>e("label",{class:"block"},"公司名稱",-1)),Ne=l(()=>e("label",{class:"block"},"公司標語",-1)),Te={__name:"UserLists",setup(v){const p=h([]),a=h({}),d=h({id:null,name:"",username:"",email:"",address:{street:"",suite:"",city:"",zipcode:""},geo:{lat:"",lng:""},phone:"",website:"",company:{name:"",catchPhrase:"",bs:""}}),y=h(!1),g=h(!1),w=async function(){try{let o=await fetch("https://jsonplaceholder.typicode.com/users");if(!o.ok)throw Error("failed fetching");p.value=await o.json()}catch(o){throw o}},k=async function(o="",s={}){return(await fetch(o,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}).then(console.log(s))).json()};function U(o){y.value=!0,a.value=Object.assign({},o),console.log(a)}function V(){const o=a.value,t=`https://jsonplaceholder.typicode.com/users/${a.value.id}`,c={method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)};fetch(t,c).then(n=>{if(!n.ok)throw new Error(`${n.status}`);return n.json()}).then(n=>{console.log(n)}).catch(n=>{console.error(n)}),p.value.forEach(n=>{n.id===o.id&&(n.name=o.name,n.username=o.username,n.email=o.email,n.phone=o.phone,n.address.street=o.address.street,n.address.suite=o.address.suite,n.address.city=o.address.city,n.company.name=o.company.name,n.company.catchPhrase=o.company.catchPhrase)}),a.value=Object.assign({}),y.value=!1}function C(o){let s=o.id,t=p.value.findIndex(n=>n.id===o.id);p.value.splice(t,1);const c=`https://jsonplaceholder.typicode.com/users/${s}`;fetch(c,{method:"DELETE",headers:{"Content-Type":"application/json"},body:null}).then(n=>{console.log(n)})}function P(){let o=Math.floor(Date.now()/1e3);d.value.id=o;let s=d.value;k("https://jsonplaceholder.typicode.com/users",s),p.value.push(s),d.value={id:null,name:"",username:"",email:"",address:{street:"",suite:"",city:"",zipcode:""},geo:{lat:"",lng:""},phone:"",website:"",company:{name:"",catchPhrase:"",bs:""}},g.value=!1}return(o,s)=>(m(),b("main",I,[D,e("button",{onClick:s[0]||(s[0]=t=>w()),class:"bg-sky-500 hover:bg-sky-700 rounded text-white",style:{"margin-left":"30px",padding:"5px"}},"預設使用者清單"),e("button",{class:"bg-sky-500 hover:bg-sky-700 rounded text-white",style:{"margin-left":"30px",padding:"5px"},onClick:s[1]||(s[1]=t=>g.value=!0)}," 新增使用者 "),e("div",L,[(m(!0),b($,null,E(p.value,(t,c)=>(m(),b("div",{key:t.id,class:"todocard bg-orange-200 rounded relative"},[e("div",O,[e("span",null,u(c+1),1)]),z,_(),e("p",M,u(t.name),1),B,_(),e("p",F,u(t.username),1),J,_(),e("p",A,u(t.email),1),q,e("p",G,u(t.address.street)+" "+u(t.address.suite)+" "+u(t.address.city),1),H,e("p",K,u(t.phone),1),Q,_(),e("p",R,u(t.company.name),1),W,e("p",X,u(t.company.catchPhrase),1),e("button",{class:"absolute bottom-2 left-2",onClick:n=>C(t)},ee,8,Y),e("button",{onClick:n=>U(t),class:"border-solid bg-blue-300 absolute right-2 bottom-2 w-10 h-8"},"編輯",8,te)]))),128))]),y.value?(m(),b("div",se,[e("img",{src:x,onClick:s[2]||(s[2]=t=>y.value=!1),class:"w-6 h-6 top-5 right-5 hover:cursor-pointer absolute right-2"}),e("div",le,[e("span",oe," User list id: "+u(a.value.id),1)]),e("form",null,[ae,i(e("input",{id:"name",type:"text","onUpdate:modelValue":s[3]||(s[3]=t=>a.value.name=t),class:"bg-white h-50 mt-2"},null,512),[[r,a.value.name]]),ne,i(e("input",{id:"username",type:"text","onUpdate:modelValue":s[4]||(s[4]=t=>a.value.username=t),class:"bg-white h-50"},null,512),[[r,a.value.username]]),de,i(e("input",{id:"email",type:"text","onUpdate:modelValue":s[5]||(s[5]=t=>a.value.email=t),class:"bg-white h-50"},null,512),[[r,a.value.email]]),ie,e("div",re,[e("div",ue,[pe,i(e("input",{id:"street",type:"text","onUpdate:modelValue":s[6]||(s[6]=t=>a.value.address.street=t)},null,512),[[r,a.value.address.street]])]),e("div",ce,[he,i(e("input",{id:"suite",type:"text","onUpdate:modelValue":s[7]||(s[7]=t=>a.value.address.suite=t)},null,512),[[r,a.value.address.suite]])]),e("div",null,[me,i(e("input",{id:"city",type:"text","onUpdate:modelValue":s[8]||(s[8]=t=>a.value.address.city=t)},null,512),[[r,a.value.address.city]])])]),be,i(e("input",{type:"text",id:"phone","onUpdate:modelValue":s[9]||(s[9]=t=>a.value.phone=t)},null,512),[[r,a.value.phone]]),e("div",null,[ve,i(e("input",{type:"text",id:"companyName","onUpdate:modelValue":s[10]||(s[10]=t=>a.value.company.name=t),style:{"margin-right":"10px"}},null,512),[[r,a.value.company.name]]),ye,i(e("input",{type:"text",id:"catchPhrase","onUpdate:modelValue":s[11]||(s[11]=t=>a.value.company.catchPhrase=t),style:{width:"280px"}},null,512),[[r,a.value.company.catchPhrase]])])]),e("button",{class:"absolute bottom-10 right-10 bg-blue-300 w-20 h-10",onClick:s[12]||(s[12]=t=>V())},"確認修改 ")])):f("",!0),g.value==!0?(m(),b("div",ge,[e("img",{src:x,class:"w-6 h-6 top-5 right-5 hover:cursor-pointer absolute right-10",onClick:s[13]||(s[13]=t=>g.value=!1)}),e("form",null,[_e,i(e("input",{type:"text","onUpdate:modelValue":s[14]||(s[14]=t=>d.value.name=t),class:"bg-white h-50 mt-2"},null,512),[[r,d.value.name]]),xe,i(e("input",{type:"text","onUpdate:modelValue":s[15]||(s[15]=t=>d.value.username=t),class:"bg-white h-50"},null,512),[[r,d.value.username]]),fe,i(e("input",{type:"text","onUpdate:modelValue":s[16]||(s[16]=t=>d.value.email=t),class:"bg-white h-50"},null,512),[[r,d.value.email]]),we,e("div",ke,[e("div",Ue,[Ve,i(e("input",{type:"text","onUpdate:modelValue":s[17]||(s[17]=t=>d.value.address.street=t)},null,512),[[r,d.value.address.street]])]),e("div",Ce,[Pe,i(e("input",{type:"text","onUpdate:modelValue":s[18]||(s[18]=t=>d.value.address.suite=t)},null,512),[[r,d.value.address.suite]])]),e("div",null,[je,i(e("input",{type:"text","onUpdate:modelValue":s[19]||(s[19]=t=>d.value.address.city=t)},null,512),[[r,d.value.address.city]])])]),$e,i(e("input",{type:"text","onUpdate:modelValue":s[20]||(s[20]=t=>d.value.phone=t)},null,512),[[r,d.value.phone]]),e("div",null,[Ee,i(e("input",{type:"text","onUpdate:modelValue":s[21]||(s[21]=t=>d.value.company.name=t),style:{"margin-right":"10px"}},null,512),[[r,d.value.company.name]]),Ne,i(e("input",{type:"text","onUpdate:modelValue":s[22]||(s[22]=t=>d.value.company.catchPhrase=t),style:{width:"280px"}},null,512),[[r,d.value.company.catchPhrase]])])]),e("button",{class:"absolute bottom-10 right-10 bg-blue-300 w-20 h-10",onClick:s[23]||(s[23]=t=>P())},"新增 ")])):f("",!0)]))}},Ie=j(Te,[["__scopeId","data-v-8cb776ee"]]);export{Ie as default};
